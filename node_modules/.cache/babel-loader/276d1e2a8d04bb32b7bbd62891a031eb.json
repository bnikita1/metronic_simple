{"ast":null,"code":"import _regeneratorRuntime from \"/Users/itmac022/Documents/Sarang/PeerbitsDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/itmac022/Documents/Sarang/PeerbitsDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from 'react';\nimport { USER_REGISTERATION } from '../actionTypes';\nimport axios from 'axios';\nexport var registerUser = function registerUser(payload) {\n  return function (dispatch) {\n    return dispatch(registerUserInit(payload));\n  };\n};\nexport var registerUserInit = function registerUserInit(payload) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch({\n                type: USER_REGISTERATION.USER_REGISTERATION_INIT\n              });\n              console.log(\"PAYLOAD\", payload);\n              axios.post('http://localhost:9000/api/users', {\n                email: payload.email,\n                fullname: payload.fullname,\n                username: payload.username,\n                password: payload.password\n              }).then(function (res, err) {\n                if (err) {\n                  dispatch(registerUserError(err));\n                }\n\n                console.log(\"USER Registerd\", {\n                  res: res,\n                  err: err\n                });\n                dispatch(registerUserSuccess(res));\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var registerUserSuccess = function registerUserSuccess(userData) {\n  return function (dispatch) {\n    console.log(\"RESPONSE in DISPATCH\", userData);\n    dispatch({\n      type: USER_REGISTERATION.USER_REGISTERATION_SUCCESS,\n      payload: {\n        authToken: userData.data.authToken,\n        user: userData.data\n      }\n    });\n  };\n};\nexport var registerUserError = function registerUserError(err) {\n  return function (dispatch) {\n    dispatch({\n      type: USER_REGISTERATION.USER_REGISTERATION_ERROR,\n      payload: {\n        err: err\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/Users/itmac022/Documents/Sarang/PeerbitsDemo/src/reduxs/actions/auth.js"],"names":["React","USER_REGISTERATION","axios","registerUser","payload","dispatch","registerUserInit","type","USER_REGISTERATION_INIT","console","log","post","email","fullname","username","password","then","res","err","registerUserError","registerUserSuccess","userData","USER_REGISTERATION_SUCCESS","authToken","data","user","USER_REGISTERATION_ERROR"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,QAAmC,gBAAnC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD;AAAA,SAAa,UAACC,QAAD;AAAA,WAAcA,QAAQ,CAACC,gBAAgB,CAACF,OAAD,CAAjB,CAAtB;AAAA,GAAb;AAAA,CAArB;AAEP,OAAO,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACF,OAAD;AAAA;AAAA,wEAAc,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAC1CA,cAAAA,QAAQ,CAAC;AACLE,gBAAAA,IAAI,EAAEN,kBAAkB,CAACO;AADpB,eAAD,CAAR;AAGAC,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,OAAvB;AACCF,cAAAA,KAAK,CAACS,IAAN,CAAW,iCAAX,EAA8C;AAAEC,gBAAAA,KAAK,EAAER,OAAO,CAACQ,KAAjB;AAAwBC,gBAAAA,QAAQ,EAAET,OAAO,CAACS,QAA1C;AAAoDC,gBAAAA,QAAQ,EAAEV,OAAO,CAACU,QAAtE;AAAgFC,gBAAAA,QAAQ,EAAEX,OAAO,CAACW;AAAlG,eAA9C,EAA4JC,IAA5J,CAAiK,UAACC,GAAD,EAAKC,GAAL,EAAa;AAC3K,oBAAIA,GAAJ,EACA;AACIb,kBAAAA,QAAQ,CAACc,iBAAiB,CAACD,GAAD,CAAlB,CAAR;AACH;;AACDT,gBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8B;AAAEO,kBAAAA,GAAG,EAAHA,GAAF;AAAOC,kBAAAA,GAAG,EAAHA;AAAP,iBAA9B;AACAb,gBAAAA,QAAQ,CAACe,mBAAmB,CAACH,GAAD,CAApB,CAAR;AACH,eAPA;;AALyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAd;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAzB;AAgBP,OAAO,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACC,QAAD;AAAA,SAAc,UAAChB,QAAD,EAAc;AAC3DI,IAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCW,QAApC;AACAhB,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEN,kBAAkB,CAACqB,0BADpB;AAELlB,MAAAA,OAAO,EAAE;AAAEmB,QAAAA,SAAS,EAAEF,QAAQ,CAACG,IAAT,CAAcD,SAA3B;AAAqCE,QAAAA,IAAI,EAAEJ,QAAQ,CAACG;AAApD;AAFJ,KAAD,CAAR;AAIH,GANkC;AAAA,CAA5B;AAQP,OAAO,IAAML,iBAAiB,GAAG,SAApBA,iBAAoB,CAACD,GAAD;AAAA,SAAS,UAACb,QAAD,EAAc;AACpDA,IAAAA,QAAQ,CAAC;AACLE,MAAAA,IAAI,EAAEN,kBAAkB,CAACyB,wBADpB;AAELtB,MAAAA,OAAO,EAAE;AAAEc,QAAAA,GAAG,EAAEA;AAAP;AAFJ,KAAD,CAAR;AAKH,GANgC;AAAA,CAA1B","sourcesContent":["import React from 'react'\nimport { USER_REGISTERATION } from '../actionTypes';\nimport axios from 'axios';\n\nexport const registerUser = (payload) => (dispatch) => dispatch(registerUserInit(payload));\n\nexport const registerUserInit = (payload)  => async (dispatch) => {\n    dispatch({\n        type: USER_REGISTERATION.USER_REGISTERATION_INIT\n    });\n    console.log(\"PAYLOAD\", payload);\n     axios.post('http://localhost:9000/api/users', { email: payload.email, fullname: payload.fullname, username: payload.username, password: payload.password }).then((res,err) => {\n        if (err)\n        {\n            dispatch(registerUserError(err));\n        }\n        console.log(\"USER Registerd\", { res, err });\n        dispatch(registerUserSuccess(res));\n    });\n}\n\n\nexport const registerUserSuccess = (userData) => (dispatch) => {\n    console.log(\"RESPONSE in DISPATCH\", userData);\n    dispatch({\n        type: USER_REGISTERATION.USER_REGISTERATION_SUCCESS,\n        payload: { authToken: userData.data.authToken,user: userData.data }\n    });\n}\n\nexport const registerUserError = (err) => (dispatch) => {\n    dispatch({\n        type: USER_REGISTERATION.USER_REGISTERATION_ERROR,\n        payload: { err: err }\n    });\n\n}"]},"metadata":{},"sourceType":"module"}