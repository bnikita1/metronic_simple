{"ast":null,"code":"import _regeneratorRuntime from \"/Users/itmac022/Documents/Sarang/PeerbitsDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/itmac022/Documents/Sarang/PeerbitsDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nexport var LOGIN_URL = \"\".concat(process.env.REACT_APP_API_URL, \"/auth/login\");\nexport var REGISTER_URL = \"api/auth/register\";\nexport var REQUEST_PASSWORD_URL = \"api/auth/forgot-password\";\nexport var ME_URL = \"\".concat(process.env.REACT_APP_API_URL, \"/auth/me\");\nvar instance = axios.create();\nexport function login(email, password) {\n  console.log(\":login\", email, password);\n  return axios.post('http://localhost:9000/api/users/login' || LOGIN_URL, {\n    email: email,\n    password: password\n  }); // .then((res) => {\n  //   console.log(\"...res.data Login\", res.data);\n  //   return [200, { ...res.data, password: undefined }];\n  // }, (error) => {\n  //   return [400];\n  // });\n}\nexport function register(_x, _x2, _x3, _x4) {\n  return _register.apply(this, arguments);\n}\n\nfunction _register() {\n  _register = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(email, fullname, username, password) {\n    var userData;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"REGISTER_URL\", REGISTER_URL);\n            console.log(\":register\", email, fullname, username, password);\n            _context.next = 4;\n            return instance.post('http://localhost:9000/api/users' || REGISTER_URL, {\n              email: email,\n              fullname: fullname,\n              username: username,\n              password: password\n            });\n\n          case 4:\n            userData = _context.sent;\n            console.log(\"UserData in Register\", userData);\n            return _context.abrupt(\"return\", userData);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _register.apply(this, arguments);\n}\n\nexport function requestPassword(email) {\n  console.log(\":requestPassword\", email);\n  return axios.post(REQUEST_PASSWORD_URL, {\n    email: email\n  });\n}\nexport function getUserByToken() {\n  return _getUserByToken.apply(this, arguments);\n}\n\nfunction _getUserByToken() {\n  _getUserByToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var headers;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"getUserByToken\"); // Authorization head should be fulfilled in interceptor.\n\n            headers = {\n              Authorization: \"Bearer auth-token-07kkw0jurmmeghf7xn2cl\"\n            };\n            instance.get('http://localhost:9000/api/users/auth', {\n              headers: headers\n            }).then(function (err, data) {\n              console.log(\"Error\", {\n                err: err,\n                data: data\n              });\n            });\n            console.log(\"getUserByToken\", apiReturn);\n            return _context2.abrupt(\"return\", apiReturn);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _getUserByToken.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/itmac022/Documents/Sarang/PeerbitsDemo/src/app/modules/Auth/_redux/authCrud.js"],"names":["axios","LOGIN_URL","process","env","REACT_APP_API_URL","REGISTER_URL","REQUEST_PASSWORD_URL","ME_URL","instance","create","login","email","password","console","log","post","register","fullname","username","userData","requestPassword","getUserByToken","headers","Authorization","get","then","err","data","apiReturn"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,SAAS,aAAMC,OAAO,CAACC,GAAR,CAAYC,iBAAlB,gBAAf;AACP,OAAO,IAAMC,YAAY,GAAG,mBAArB;AACP,OAAO,IAAMC,oBAAoB,GAAG,0BAA7B;AACP,OAAO,IAAMC,MAAM,aAAML,OAAO,CAACC,GAAR,CAAYC,iBAAlB,aAAZ;AAEP,IAAMI,QAAQ,GAAGR,KAAK,CAACS,MAAN,EAAjB;AAEA,OAAO,SAASC,KAAT,CAAeC,KAAf,EAAsBC,QAAtB,EAAgC;AACrCC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,KAAtB,EAA6BC,QAA7B;AACA,SAAOZ,KAAK,CAACe,IAAN,CAAW,2CAA2Cd,SAAtD,EAAiE;AAAEU,IAAAA,KAAK,EAALA,KAAF;AAASC,IAAAA,QAAQ,EAARA;AAAT,GAAjE,CAAP,CAFqC,CAGrC;AACA;AACA;AACA;AACA;AACA;AACD;AAED,gBAAsBI,QAAtB;AAAA;AAAA;;;uEAAO,iBAAwBL,KAAxB,EAA+BM,QAA/B,EAAyCC,QAAzC,EAAmDN,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,YAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BT,YAA5B;AACAQ,YAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBH,KAAzB,EAAgCM,QAAhC,EAA0CC,QAA1C,EAAoDN,QAApD;AAFK;AAAA,mBAGmBJ,QAAQ,CAACO,IAAT,CAAc,qCAAqCV,YAAnD,EAAiE;AAAEM,cAAAA,KAAK,EAALA,KAAF;AAASM,cAAAA,QAAQ,EAARA,QAAT;AAAmBC,cAAAA,QAAQ,EAARA,QAAnB;AAA6BN,cAAAA,QAAQ,EAARA;AAA7B,aAAjE,CAHnB;;AAAA;AAGCO,YAAAA,QAHD;AAILN,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCK,QAApC;AAJK,6CAKEA,QALF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAcP,OAAO,SAASC,eAAT,CAAyBT,KAAzB,EAAgC;AACrCE,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCH,KAAhC;AACA,SAAOX,KAAK,CAACe,IAAN,CAAWT,oBAAX,EAAiC;AAAEK,IAAAA,KAAK,EAALA;AAAF,GAAjC,CAAP;AACD;AAED,gBAAsBU,cAAtB;AAAA;AAAA;;;6EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AACLR,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EADK,CAEL;;AACMQ,YAAAA,OAHD,GAGW;AAAEC,cAAAA,aAAa;AAAf,aAHX;AAIJf,YAAAA,QAAQ,CAACgB,GAAT,CAAa,sCAAb,EAAqD;AAAEF,cAAAA,OAAO,EAAGA;AAAZ,aAArD,EAA6EG,IAA7E,CAAkF,UAACC,GAAD,EAAMC,IAAN,EAAe;AAChGd,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB;AAAEY,gBAAAA,GAAG,EAAHA,GAAF;AAAOC,gBAAAA,IAAI,EAAJA;AAAP,eAArB;AACD,aAFA;AAGDd,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8Bc,SAA9B;AAPK,8CAQEA,SARF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const LOGIN_URL = `${process.env.REACT_APP_API_URL}/auth/login`;\r\nexport const REGISTER_URL = \"api/auth/register\";\r\nexport const REQUEST_PASSWORD_URL = \"api/auth/forgot-password\";\r\nexport const ME_URL = `${process.env.REACT_APP_API_URL}/auth/me`;\r\n\r\nconst instance = axios.create();\r\n\r\nexport function login(email, password) {\r\n  console.log(\":login\", email, password);\r\n  return axios.post('http://localhost:9000/api/users/login' || LOGIN_URL, { email, password });\r\n  // .then((res) => {\r\n  //   console.log(\"...res.data Login\", res.data);\r\n  //   return [200, { ...res.data, password: undefined }];\r\n  // }, (error) => {\r\n  //   return [400];\r\n  // });\r\n}\r\n\r\nexport async function register(email, fullname, username, password) {\r\n  console.log(\"REGISTER_URL\", REGISTER_URL);\r\n  console.log(\":register\", email, fullname, username, password);\r\n  const userData = await  instance.post('http://localhost:9000/api/users' || REGISTER_URL, { email, fullname, username, password });\r\n  console.log(\"UserData in Register\", userData);\r\n  return userData;\r\n  // .then((res) => {\r\n  //   console.log(\"...res.data\", res.data);\r\n  //   return [200, { ...res.data, password: undefined }];\r\n  // }, (error) => {\r\n  //   return [400, undefined];\r\n  // });\r\n}\r\n\r\nexport function requestPassword(email) {\r\n  console.log(\":requestPassword\", email);\r\n  return axios.post(REQUEST_PASSWORD_URL, { email });\r\n}\r\n\r\nexport async function getUserByToken() {\r\n  console.log(\"getUserByToken\");\r\n  // Authorization head should be fulfilled in interceptor.\r\n  const headers = { Authorization: `Bearer auth-token-07kkw0jurmmeghf7xn2cl` };\r\n   instance.get('http://localhost:9000/api/users/auth', { headers:  headers  }).then((err, data) => {\r\n    console.log(\"Error\", { err, data });\r\n  });\r\n  console.log(\"getUserByToken\", apiReturn);\r\n  return apiReturn;\r\n  // .then((res) => {\r\n  //   console.log(\"res.dataAuthhhh\", res.data);\r\n  //   return [200, { ...res.data, password: undefined }];\r\n  // }, (error) => {\r\n  //   return [400];\r\n  // });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}