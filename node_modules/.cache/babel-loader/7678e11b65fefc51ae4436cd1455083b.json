{"ast":null,"code":"import _objectSpread from \"/Users/itmac022/Documents/Sarang/PeerbitsDemo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/itmac022/Documents/Sarang/PeerbitsDemo/src/app/modules/ECommerce/pages/products/products-filter/ProductsFilter.js\";\nimport React, { useMemo } from \"react\";\nimport { Formik } from \"formik\";\nimport { isEqual } from \"lodash\";\nimport { useProductsUIContext } from \"../ProductsUIContext\";\n\nvar prepareFilter = function prepareFilter(queryParams, values) {\n  var searchText = values.searchText,\n      deviceId = values.deviceId;\n\n  var newQueryParams = _objectSpread({}, queryParams);\n\n  var filter = {}; // Filter by all fields\n\n  filter.name = searchText;\n\n  if (searchText) {\n    filter.email = searchText;\n    filter.fullname = searchText;\n  } //Filter by deviceId\n\n\n  filter.deviceId = deviceId !== \"\" ? +deviceId : undefined;\n  newQueryParams.filter = filter;\n  return newQueryParams;\n};\n\nexport function ProductsFilter(_ref) {\n  var _this = this;\n\n  var listLoading = _ref.listLoading;\n  // Products UI Context\n  var productsUIContext = useProductsUIContext();\n  var productsUIProps = useMemo(function () {\n    return {\n      setQueryParams: productsUIContext.setQueryParams,\n      queryParams: productsUIContext.queryParams\n    };\n  }, [productsUIContext]);\n\n  var applyFilter = function applyFilter(values) {\n    var newQueryParams = prepareFilter(productsUIProps.queryParams, values);\n\n    if (!isEqual(newQueryParams, productsUIProps.queryParams)) {\n      newQueryParams.pageNumber = 1;\n      productsUIProps.setQueryParams(newQueryParams);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      searchText: \"\",\n      searchId: \"\" // values => By Id\n\n    },\n    onSubmit: function onSubmit(values) {\n      applyFilter(values);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, function (_ref2) {\n    var values = _ref2.values,\n        handleSubmit = _ref2.handleSubmit,\n        handleBlur = _ref2.handleBlur,\n        handleChange = _ref2.handleChange,\n        setFieldValue = _ref2.setFieldValue;\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form form-label-right\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"searchText\",\n      placeholder: \"Search\",\n      onBlur: handleBlur,\n      value: values.searchText || '',\n      onChange: function onChange(e) {\n        setFieldValue(\"searchText\", e.target.value);\n        handleSubmit();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 19\n      }\n    }, \"Search\"), \" in all fields\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"deviceId\",\n      placeholder: \"deviceId\",\n      onBlur: handleBlur,\n      value: values.deviceId || '',\n      onChange: function onChange(e) {\n        setFieldValue(\"deviceId\", e.target.value);\n        handleSubmit();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: \"form-text text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, \"Search\"), \" By deviceId\"))));\n  }));\n}","map":{"version":3,"sources":["/Users/itmac022/Documents/Sarang/PeerbitsDemo/src/app/modules/ECommerce/pages/products/products-filter/ProductsFilter.js"],"names":["React","useMemo","Formik","isEqual","useProductsUIContext","prepareFilter","queryParams","values","searchText","deviceId","newQueryParams","filter","name","email","fullname","undefined","ProductsFilter","listLoading","productsUIContext","productsUIProps","setQueryParams","applyFilter","pageNumber","searchId","handleSubmit","handleBlur","handleChange","setFieldValue","e","target","value"],"mappings":"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","sourcesContent":["import React, { useMemo } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { isEqual } from \"lodash\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nconst prepareFilter = (queryParams, values) => {\r\n  const { searchText, deviceId } = values;\r\n  const newQueryParams = { ...queryParams };\r\n  const filter = {};\r\n  // Filter by all fields\r\n  filter.name = searchText;\r\n  if (searchText) {\r\n    filter.email = searchText;\r\n    filter.fullname = searchText;\r\n  }\r\n  //Filter by deviceId\r\n  filter.deviceId = deviceId !== \"\" ? +deviceId : undefined;\r\n  newQueryParams.filter = filter;\r\n  return newQueryParams;\r\n};\r\n\r\nexport function ProductsFilter({ listLoading }) {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      setQueryParams: productsUIContext.setQueryParams,\r\n      queryParams: productsUIContext.queryParams,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  const applyFilter = (values) => {\r\n    const newQueryParams = prepareFilter(productsUIProps.queryParams, values);\r\n    if (!isEqual(newQueryParams, productsUIProps.queryParams)) {\r\n      newQueryParams.pageNumber = 1;\r\n      productsUIProps.setQueryParams(newQueryParams);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          searchText: \"\",\r\n          searchId: \"\" // values => By Id\r\n        }}\r\n        onSubmit={(values) => {\r\n          applyFilter(values);\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          handleSubmit,\r\n          handleBlur,\r\n          handleChange,\r\n          setFieldValue,\r\n        }) => (\r\n          <form onSubmit={handleSubmit} className=\"form form-label-right\">\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-lg-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"searchText\"\r\n                  placeholder=\"Search\"\r\n                  onBlur={handleBlur}\r\n                  value={values.searchText || ''}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"searchText\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                />\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Search</b> in all fields\r\n                </small>\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"deviceId\"\r\n                  placeholder=\"deviceId\"\r\n                  onBlur={handleBlur}\r\n                  value={values.deviceId || ''}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"deviceId\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                />\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Search</b> By deviceId\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}